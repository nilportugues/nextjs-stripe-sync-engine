model Product {
  id                  String     @id @default(uuid())
  object              String?
  active              Boolean?
  description         String?
  metadata            Json?
  name                String?
  created             Int?
  images              Json?
  livemode            Boolean?
  package_dimensions  Json?
  shippable           Boolean?
  statement_descriptor String?
  unit_label          String?
  updated             Int?
  url                 String?

  @@map("stripe.products")
}

model Customer {
  id                   String       @id @default(cuid())
  object               String?
  address              Json?
  description          String?
  email                String?
  metadata             Json?
  name                 String?
  phone                String?
  shipping             Json?
  balance              Int?
  created              Int?
  currency             String?
  default_source       String?
  delinquent           Boolean?
  discount             Json?
  invoice_prefix       String?
  invoice_settings     Json?
  livemode             Boolean?
  next_invoice_sequence Int?
  preferred_locales    Json?
  tax_exempt           String?

  @@map("stripe.customers")
}

enum PricingType {
  one_time
  recurring
}

enum PricingTiers {
  graduated
  volume
}

model Price {
  id                  String            @id
  object              String
  active              Boolean
  currency            String
  metadata            Json
  nickname            String?
  recurring           Json?
  type                PricingType
  unit_amount         Int
  billing_scheme      String?
  created             Int
  livemode            Boolean
  lookup_key          String?
  tiers_mode          PricingTiers
  transform_quantity  Json?
  unit_amount_decimal String?

  product             String             @relation("PriceToProduct", fields: [product], references: [id])
}

enum SubscriptionStatus {
  trialing
  active
  canceled
  incomplete
  incomplete_expired
  past_due
  unpaid
}

model Subscriptions {
  id                       String               @id @default(dbgenerated())
  object                   String?
  cancel_at_period_end     Boolean?
  current_period_end       Int?
  current_period_start     Int?
  default_payment_method   String?
  items                    Json?
  metadata                 Json?
  pending_setup_intent     String?
  pending_update           Json?
  status                   SubscriptionStatus?
  application_fee_percent  Float?
  billing_cycle_anchor     Int?
  billing_thresholds       Json?
  cancel_at                Int?
  canceled_at              Int?
  collection_method        String?
  created                  Int?
  days_until_due           Int?
  default_source           String?
  default_tax_rates        Json?
  discount                 Json?
  ended_at                 Int?
  livemode                 Boolean?
  next_pending_invoice_item_invoice Int?
  pause_collection         Json?
  pending_invoice_item_interval Json?
  start_date               Int?
  transfer_data            Json?
  trial_end                Json?
  trial_start              Json?
  schedule                 String?
  customer                 String               @references(Customer.id)
  latest_invoice           String?              // not yet joined
  plan                     String?              // not yet joined
}

